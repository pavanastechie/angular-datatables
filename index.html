<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Example of Bootstrap 3 Panels with a Heading</title>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
 <script src="angular.js"></script>
 <script src="ui-bootstrap-tpls-0.13.4.min.js"></script>
<style type="text/css">
    .bs-example{
    	margin: 20px;
    }
	.table-header {
		background-color: #f5f5f5;
	}
	.panel-body {
		padding: 2px;
	}
	.sort-icon {
	position: relative;
}
.selected {
	
  background-color: #245580 !important;
  color: #fff !important;
}

tr{
cursor: pointer;
}
</style>
<script src="dirPagination.js"></script>
</head>
<body ng-app="angularTable" ng-controller="listdata">
<div class="bs-example" >
    <div class="panel panel-default">
	<div class="panel-heading">Angular Cutomized Data Table
	<div class="pull-right">
	<label style=" margin-right: 10px;">Search: <input ng-model="searchText" placeholder="Search..."></label>
	<label>Page size:  <select ng-model="pageSize">
      <option value="10">10</option>
      <option value="25">25</option></label>
	   <option value="50">50</option></label>
	   <option value="100">100</option></label>
	   </select>
	   </div>
	</div>
        <div class="panel-body">
		 <table class="table table-striped table-hover">
					<thead class="table-header">
						<tr>
							<th>
								<span style="cursor: pointer" class="glyphicon sort-icon" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}" ng-click="reverse=!reverse;order('id', reverse)">Id</span>
							</th>
							<th>
								<span style="cursor: pointer" class="glyphicon sort-icon" ng-class="{'glyphicon-chevron-up':fName,'glyphicon-chevron-down':!fName}" ng-click="fName=!fName;order('first_name', fName)">FirstName </span>
							</th>
							<th>
								<span style="cursor: pointer" class="glyphicon sort-icon " ng-class="{'glyphicon-chevron-up':lName,'glyphicon-chevron-down':!lName}" ng-click="lName=!lName;order('last_name', lName)">LastName</span>
							</th>
							<th>
								<span style="cursor: pointer" class="glyphicon sort-icon" ng-class="{'glyphicon-chevron-up':hobby,'glyphicon-chevron-down':!hobby}" ng-click="hobby=!hobby;order('hobby', hobby)">Hobby</span>
								
							</th>
						</tr>
					</thead>
					<tbody>
						<tr dir-paginate="user in users | filter:searchText | itemsPerPage: pageSize" ng-click="setSelected(user)" pagination-id="data1" ng-class="{selected : user.id === idSelected}">
							<td>{{user.id}}</td>
							<td>{{user.first_name}}</td>
							<td>{{user.last_name}}</td>
							<td>{{user.hobby}}</td>
						</tr>
					</tbody>
				</table>
		</div>
         <div class="panel-footer clearfix">
            <div class="pull-left">
                <a class="btn btn-primary glyphicon glyphicon-plus" ng-click="addElement('lg')">Add</a>
                <a class="btn btn-default glyphicon glyphicon-pencil" ng-click="EditElement('lg')" ng-disabled="idSelected == undefined">Edit</a>
				<a class="btn btn-danger glyphicon glyphicon-ban-circle" ng-click="deleteElement()" ng-disabled="idSelected == undefined"><span>Delete</span]></a>
            </div>
			<div class="pull-right">
			 <dir-pagination-controls boundary-links="true" template-url="dirPagination.tpl.html" pagination-id="data1"></dir-pagination-controls>
		</div>
        </div>
    </div>
</div>
<div class="bs-example" >
    <div class="panel panel-default">
	<div class="panel-heading">Angular Cutomized Data Table
	<div class="pull-right">
	<label style=" margin-right: 10px;">Search: <input ng-model="searchText" placeholder="Search..."></label>
	<label>Page size:  <select ng-model="pageSize">
      <option value="10">10</option>
      <option value="25">25</option></label>
	   <option value="50">50</option></label>
	   <option value="100">100</option></label>
	   </select>
	   </div>
	</div>
        <div class="panel-body">
		 <table class="table table-striped table-hover">
					<thead class="table-header">
						<tr>
							<th>
								<span style="cursor: pointer" class="glyphicon sort-icon" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}" ng-click="reverse=!reverse;order('id', reverse)">Id</span>
							</th>
							<th>
								<span style="cursor: pointer" class="glyphicon sort-icon" ng-class="{'glyphicon-chevron-up':fName,'glyphicon-chevron-down':!fName}" ng-click="fName=!fName;order('first_name', fName)">FirstName </span>
							</th>
							<th>
								<span style="cursor: pointer" class="glyphicon sort-icon " ng-class="{'glyphicon-chevron-up':lName,'glyphicon-chevron-down':!lName}" ng-click="lName=!lName;order('last_name', lName)">LastName</span>
							</th>
							<th>
								<span style="cursor: pointer" class="glyphicon sort-icon" ng-class="{'glyphicon-chevron-up':hobby,'glyphicon-chevron-down':!hobby}" ng-click="hobby=!hobby;order('hobby', hobby)">Hobby</span>
								
							</th>
						</tr>
					</thead>
					<tbody>
						<tr dir-paginate="user in users | filter:searchText | itemsPerPage: pageSize" ng-click="setSelected(user)" ng-class="{selected : user.id === idSelected}" pagination-id="data">
							<td>{{user.id}}</td>
							<td>{{user.first_name}}</td>
							<td>{{user.last_name}}</td>
							<td>{{user.hobby}}</td>
						</tr>
					</tbody>
				</table>
		</div>
         <div class="panel-footer clearfix">
            <div class="pull-left">
                <a class="btn btn-primary glyphicon glyphicon-plus" ng-click="addElement('lg')">Add</a>
                <a class="btn btn-default glyphicon glyphicon-pencil" ng-click="EditElement('lg')" ng-disabled="idSelected == undefined">Edit</a>
				<a class="btn btn-danger glyphicon glyphicon-ban-circle" ng-click="deleteElement()" ng-disabled="idSelected == undefined"><span>Delete</span]></a>
            </div>
			<div class="pull-right">
			 <dir-pagination-controls boundary-links="true" template-url="dirPagination.tpl.html" pagination-id="data"></dir-pagination-controls>
		</div>
        </div>
    </div>
</div>

 <script>
 var app = angular.module('angularTable', ['angularUtils.directives.dirPagination', 'ui.bootstrap']);
 app.controller('listdata',function($scope, $http,$filter, $modal){
  $scope.pageSize = 10;
 var orderBy = $filter('orderBy');

    $http.get("mock.json").success(function(response){ 
        $scope.users = response;  
    });
	 $scope.order = function(predicate, reverse) {
    $scope.users = orderBy($scope.users, predicate, reverse);
  };
  $scope.setSelected = function(user){
  $scope.currentSelectedEle = user;
  $scope.idSelected = user.id;
  };
  
  $scope.addElement = function(size){
  //$scope.users.push({"id":Math.random(),"first_name":"Jason","last_name":"Wallace","hobby":"Football"});
    var modalInstance = $modal.open({
      animation: $scope.animationsEnabled,
      templateUrl: 'addContent.html',
      controller: 'modalCtrl',
      size: size,
	  scope: $scope
    });
  };
  $scope.EditElement = function(size){
  var modalInstance = $modal.open({
      animation: $scope.animationsEnabled,
      templateUrl: 'editContent.html',
      controller: 'modalCtrl',
      size: size,
	  scope: $scope
    });
	$scope.fName = $scope.currentSelectedEle.first_name;
	$scope.lName = $scope.currentSelectedEle.last_name;
	$scope.hobby = $scope.currentSelectedEle.hobby;
  };
  $scope.deleteElement = function() {
  for(var i=0;i<$scope.users.length;i++){
  if($scope.users[i].id === $scope.currentSelectedEle.id){
	$scope.users.splice(i, 1);
  }
  }
  };
});
app.controller('modalCtrl',function($scope, $http,$filter, $modalInstance){
 $scope.ok = function () {
 $scope.users.push({"id":Math.random(),"first_name":$scope.fName,"last_name":$scope.lName,"hobby": $scope.hobby});
 $scope.idSelected = undefined;
    $modalInstance.close();
  };

  $scope.cancel = function () {
    $modalInstance.dismiss('cancel');
  };
  $scope.edit = function(){
  
  for(var i=0;i<$scope.users.length;i++){
  if($scope.users[i].id === $scope.currentSelectedEle.id){
  $scope.users[i].first_name = $scope.fName;
  $scope.users[i].last_name = $scope.lName;
  $scope.users[i].hobby = $scope.hobby;
  }
  }
  $modalInstance.close();
  };
});
 </script>
</body>
</html>                                		